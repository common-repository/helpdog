(()=>{"use strict";var e,t={819:()=>{const e=window.wp.blocks,t=JSON.parse('{"UU":"helpdog/form","DD":"Helpdog Form","L1":"embed"}'),r=window.React,o=window.wp.i18n,l=window.wp.blockEditor,n=window.wp.components,a=window.wp.data,i=window.wp.element;(0,e.registerBlockType)(t.UU,{title:t.DD,category:t.L1,attributes:{formEmbedUrl:{type:"string",default:""}},edit:function(e){const{attributes:{formEmbedUrl:t},setAttributes:d,clientId:s}=e,[p,c]=(0,i.useState)(t),[m,u]=(0,i.useState)(!1),[b,h]=(0,i.useState)(!p),{selectBlock:f}=(0,a.useDispatch)("core/block-editor");return(0,r.createElement)("div",{...(0,l.useBlockProps)()},(0,r.createElement)(l.BlockControls,null,(0,r.createElement)(n.ToolbarGroup,null,(0,r.createElement)(n.ToolbarButton,{icon:"edit",label:(0,o.__)("Replace form","helpdog"),onClick:()=>{h(!b)}}))),b?(0,r.createElement)("div",{style:{border:"1px solid #ddd",padding:"20px",borderRadius:"4px"}},(0,r.createElement)("b",null,(0,o.__)("Embed Helpdog form","helpdog")),(0,r.createElement)("p",null,(0,o.__)("Paste a form embed URL you want to display on your site.","helpdog")),(0,r.createElement)(n.TextControl,{placeholder:"https://helpdog.ai/embed/f/...",value:p,onChange:e=>c(e)}),m&&(0,r.createElement)("p",{style:{color:"red"}},(0,o.__)("Invalid URL. Please enter a valid form embed URL.","helpdog")),(0,r.createElement)(n.Button,{variant:"primary",onClick:()=>{const e=p.split("/embed/f/")[1];e&&26===e.length?(u(!1),d({formEmbedUrl:p}),h(!1)):u(!0)},style:{marginTop:"10px"}},(0,o.__)("Embed","helpdog"))):(0,r.createElement)("div",null,p?(0,r.createElement)("div",{style:{position:"relative"},onClick:()=>{f(s)}},(0,r.createElement)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,cursor:"pointer"}}),(0,r.createElement)("iframe",{src:p,width:"100%",height:"500"})):(0,o.__)("Enter a form embed URL to preview.","helpdog")))},save:function(e){const{attributes:{formEmbedUrl:t}}=e,o=t.split("/embed/f/")[1];return(0,r.createElement)("div",{...l.useBlockProps.save()},o?(0,r.createElement)(r.Fragment,null,(0,r.createElement)("script",{src:"https://sdk.helpdog.ai/v1/script.js"}),(0,r.createElement)("div",{className:"hd-form-embed","data-hd-form":o})):null)}})}},r={};function o(e){var l=r[e];if(void 0!==l)return l.exports;var n=r[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=(t,r,l,n)=>{if(!r){var a=1/0;for(p=0;p<e.length;p++){for(var[r,l,n]=e[p],i=!0,d=0;d<r.length;d++)(!1&n||a>=n)&&Object.keys(o.O).every((e=>o.O[e](r[d])))?r.splice(d--,1):(i=!1,n<a&&(a=n));if(i){e.splice(p--,1);var s=l();void 0!==s&&(t=s)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[r,l,n]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var l,n,[a,i,d]=r,s=0;if(a.some((t=>0!==e[t]))){for(l in i)o.o(i,l)&&(o.m[l]=i[l]);if(d)var p=d(o)}for(t&&t(r);s<a.length;s++)n=a[s],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(p)},r=globalThis.webpackChunkhelpdog=globalThis.webpackChunkhelpdog||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var l=o.O(void 0,[350],(()=>o(819)));l=o.O(l)})();